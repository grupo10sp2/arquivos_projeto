<!DOCTYPE html>
<html lang="pt-br">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="css/general-style-site.css">
  <link rel="stylesheet" href="./css/contato.css">
  <link rel="stylesheet" href="https://unicons.iconscout.com/release/v4.0.0/css/line.css">
  <link rel="icon" type="image/png" href="images/favicon.png" />
  <title>CoffeTech | Contato </title>
</head>

<body
  style="background-image: url(./images/close-up-of-roasted-coffee-beans.png); background-size: cover; min-height: 100vh;">
  <!-- header -->
  <div class="banner">
    <header class="header">
      <div class="container">
        <img src="images/logo-1.png" alt="CoffeTech">

        <nav class="navegacao">
          <ul>
            <li><a href="index.html">Home</a></li>
            <li><a href="nossa-empresa.html">Nossa empresa</a></li>
            <li><a href="nossa-solucao.html">Nossa solução</a></li>
            <li><a href="contato.html">Contato</a></li>
          </ul>
          <a class="botaoClaro" href="login.html">Login</a>
          <a class="botaoEscuro" href="cadastro.html">Registrar-se</a>
        </nav>
      </div>
    </header>
    <main>
      <div class="container-forms">
        <div class="forms-contato">

          <h2>Entre em contato conosco</h2>

          <div class="campo">
            <label for="input_nome">Nome</label>
            <input type="text" id="input_nome" placeholder="seu nome">
          </div>

          <div class="campo">
            <label for="input_email">E-mail</label>
            <input type="email" id="input_email" placeholder="seuemail@.com.br">
          </div>

          <div class="campo">
            <label for="input_telefone">Telefone</label>
            <input type="text" id="input_telefone" placeholder="(11)0000-0000">
          </div>

          <div class="campo">
            <label for="input_assunto">Assunto</label>
            <input type="text" id="input_assunto" placeholder="Assunto">
          </div>


          <div class="campo">
            <label for="Textarea">Descrição</label>
            <textarea id="Textarea" rows="3"></textarea>
          </div>

          <button class="btn-enviar-contato" onclick="cadastrar()">Cadastrar</button>

        </div>
      </div>

    </main>

    <!-- Rodapé  -->

    <footer>
      <div class="container">
        <img src="images/logo-1.png" alt="CoffeTech">
        <div class="navegacao-footer">
          <ul>
            <li><a href="index.html">Home<a></li>
            <li><a href="nossa-empresa.html">Nossa empresa</a></li>
            <li><a href="nossa-solucao.html">Nossa solução</a></li>
            <li><a href="contato.html">Contato</a></li>
          </ul>
          <p>© Alguns direitos reservados.</p>
        </div>
        <div class="redes-footer">
          <img src="images/linkedin 3.png" alt="icone linkedin">
          <img src="images/instagram 1.png" alt="icone instagram">
        </div>
      </div>
    </footer>

    <div class="fab">
      <button class="main">
      </button>
      <ul>
        <li>
          <label for="opcao1">Manual</label>
          <button id="opcao1">
            <a> <i class="uil uil-setting"></i></a>
           
          </button>
        </li>
        <li>
          <label for="opcao2">suporte</label>
          <button onclick="redirecionarAuvo()"id="opcao2">
            <a><i class="uil uil-comment-info"></i></a>
            
          </button>
        </li>
        <!-- <li>
          <label for="opcao3">Opção 3</label>
          <button id="opcao3">
          ☏
          </button>
        </li> -->
      </ul>
    </div>
      </ul>
      </div>
</body>

</html>

<script>

  function cadastrar() {
      //aguardar();

      //Recupere o valor da nova input pelo nome do id
      // Agora vá para o método fetch logo abaixo
      var nomeVar = input_nome.value;
      var emailVar = input_email.value;
      var telefoneVar = input_telefone.value;
      var assuntoVar = input_assunto.value;
      var descricaoVar = Textarea.value;


      // Enviando o valor da nova input
      if (verificarContato()) {
          fetch("/contato/cadastrar", {
              method: "POST",
              headers: {
                  "Content-Type": "application/json"
              },
              body: JSON.stringify({
                  // crie um atributo que recebe o valor recuperado aqui
                  // Agora vá para o arquivo routes/usuario.js
                  nomeServer: nomeVar,
                  emailServer: emailVar,
                  telefoneServer: telefoneVar,
                  assuntoServer: assuntoVar,
                  descricaoServer: descricaoVar,
              })
          }).then(function (resposta) {

              console.log("resposta: ", resposta);

              if (resposta.ok) {
                 // cardErro.style.display = "block";

                  alert('Sua solicitação de contato foi aprovada!')
                  setTimeout(() => {
                      // finalizarAguardar();
                      window.location = "contatoAprovado.html";
                  }, "2000")


              } else {
                  throw ("Houve um erro ao tentar realizar o cadastro!");
              }
          }).catch(function (resposta) {
              console.log(`#ERRO: ${resposta}`);
              // finalizarAguardar();
          });

          return false;
      } else {
          // finalizarAguardar()
      }
  }


  function toggleFAB(fab) {
    if (document.querySelector(fab).classList.contains('show')) {
      document.querySelector(fab).classList.remove('show');
    } else {
      document.querySelector(fab).classList.add('show');
    }
  }

  document.querySelector('.fab .main').addEventListener('click', function () {
    toggleFAB('.fab');
  });

  document.querySelectorAll('.fab ul li button').forEach((item) => {
    item.addEventListener('click', function () {
      toggleFAB('.fab');
    });
  });

  function redirecionarAuvo(){
        window.location.href = "https://coffeetech.auvo.com.br/Login#signin"
      }
</script>
 <script src="./js/script_contato.js"></script>
